<!DOCTYPE html>
<html>
<head>
    <title>Test Calendar Logic</title>
    <style>
        body { font-family: monospace; }
        .week { border: 1px solid #ccc; margin: 10px 0; padding: 10px; }
        .week-info { font-weight: bold; }
        .columns { color: #666; }
    </style>
</head>
<body>
    <h2>Calendar Logic Test - April 2026</h2>
    <div id="output"></div>
    
    <script>
        function getDaysInMonth(year, month) {
            return new Date(year, month + 1, 0).getDate();
        }
        
        function getFirstDayOfMonth(year, month) {
            return new Date(year, month, 1).getDay();
        }
        
        const year = 2026;
        const month = 3; // April (0-indexed)
        const daysInMonth = getDaysInMonth(year, month);
        const firstDay = getFirstDayOfMonth(year, month);
        
        const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        let output = `<p><strong>April 2026: ${daysInMonth} days, starts on ${dayNames[firstDay]}</strong></p>`;
        
        let daysProcessed = 0;
        let weekNumber = 1;
        
        while (daysProcessed < daysInMonth) {
            const isFirstWeek = weekNumber === 1;
            const startDayOfWeek = isFirstWeek ? firstDay : 0;
            const daysLeftInMonth = daysInMonth - daysProcessed;
            const daysAvailableInWeek = 7 - startDayOfWeek;
            const daysInThisWeek = Math.min(daysAvailableInWeek, daysLeftInMonth);
            const weekCols = startDayOfWeek + daysInThisWeek;
            
            const startDay = daysProcessed + 1;
            const endDay = daysProcessed + daysInThisWeek;
            
            output += `<div class="week">
                <div class="week-info">Week ${weekNumber}: Days ${startDay}-${endDay}</div>
                <div class="columns">
                    Starts on: ${dayNames[startDayOfWeek]}<br>
                    Ends on: ${dayNames[(startDayOfWeek + daysInThisWeek - 1) % 7]}<br>
                    Columns: ${weekCols} (${daysInThisWeek} actual days + ${startDayOfWeek} leading empty)
                </div>
            </div>`;
            
            daysProcessed += daysInThisWeek;
            weekNumber++;
        }
        
        document.getElementById('output').innerHTML = output;
    </script>
</body>
</html>
